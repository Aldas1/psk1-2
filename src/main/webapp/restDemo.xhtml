<!-- restDemo.xhtml -->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
    <title>REST API Demo</title>
    <h:outputStylesheet library="css" name="styles.css"/>
    <script type="text/javascript">
        function populateRestEndpoints() {
            const baseUrl = window.location.origin + '#{request.contextPath}/api';

            document.querySelectorAll('.endpoint-url').forEach(el => {
                el.textContent = baseUrl + el.getAttribute('data-path');
            });
        }

        window.onload = populateRestEndpoints;
    </script>
</h:head>

<h:body>
    <div class="container">
        <div class="header">
            <h1>RESTful API Demonstration</h1>
            <div class="nav">
                <h:link outcome="index" value="Home" styleClass="nav-item"/>
                <h:link outcome="faculties" value="Faculties" styleClass="nav-item"/>
                <h:link outcome="courses" value="Courses" styleClass="nav-item"/>
                <h:link outcome="students" value="Students" styleClass="nav-item"/>
                <h:link outcome="asyncDemo" value="Async Demo" styleClass="nav-item"/>
                <h:link outcome="cdiDemo" value="CDI Demo" styleClass="nav-item"/>
                <h:link outcome="restDemo" value="REST Demo" styleClass="nav-item current"/>
            </div>
        </div>

        <div class="content">
            <h2>RESTful API for Student Management</h2>
            <p>This application provides a RESTful API for managing student data. Below are the available endpoints:</p>

            <div class="rest-endpoints">
                <h3>Available Endpoints</h3>

                <div class="endpoint">
                    <h4>Get All Students</h4>
                    <p><strong>Method:</strong> GET</p>
                    <p><strong>URL:</strong> <span class="endpoint-url" data-path="/students"></span></p>
                    <p><strong>Description:</strong> Retrieves a list of all students</p>
                    <p><strong>Example cURL:</strong></p>
                    <pre>curl -X GET "<span class="endpoint-url" data-path="/students"></span>" -H "accept: application/json"</pre>
                </div>

                <div class="endpoint">
                    <h4>Get Student by ID</h4>
                    <p><strong>Method:</strong> GET</p>
                    <p><strong>URL:</strong> <span class="endpoint-url" data-path="/students/{id}"></span></p>
                    <p><strong>Description:</strong> Retrieves a specific student by ID</p>
                    <p><strong>Example cURL:</strong></p>
                    <pre>curl -X GET "<span class="endpoint-url" data-path="/students/1"></span>" -H "accept: application/json"</pre>
                </div>

                <div class="endpoint">
                    <h4>Create Student</h4>
                    <p><strong>Method:</strong> POST</p>
                    <p><strong>URL:</strong> <span class="endpoint-url" data-path="/students"></span></p>
                    <p><strong>Description:</strong> Creates a new student</p>
                    <p><strong>Example cURL:</strong></p>
                    <pre>curl -X POST "<span class="endpoint-url" data-path="/students"></span>" \
-H "accept: application/json" \
-H "Content-Type: application/json" \
-d "{
  \"studentId\": \"S004\",
  \"firstName\": \"Michael\",
  \"lastName\": \"Johnson\",
  \"email\": \"michael.johnson@example.com\"
}"</pre>
                </div>

                <div class="endpoint">
                    <h4>Update Student</h4>
                    <p><strong>Method:</strong> PUT</p>
                    <p><strong>URL:</strong> <span class="endpoint-url" data-path="/students/{id}"></span></p>
                    <p><strong>Description:</strong> Updates an existing student</p>
                    <p><strong>Example cURL:</strong></p>
                    <pre>curl -X PUT "<span class="endpoint-url" data-path="/students/1"></span>" \
-H "accept: application/json" \
-H "Content-Type: application/json" \
-d "{
  \"studentId\": \"S001\",
  \"firstName\": \"John\",
  \"lastName\": \"Smith\",
  \"email\": \"john.smith@example.com\"
}"</pre>
                </div>

                <div class="endpoint">
                    <h4>Delete Student</h4>
                    <p><strong>Method:</strong> DELETE</p>
                    <p><strong>URL:</strong> <span class="endpoint-url" data-path="/students/{id}"></span></p>
                    <p><strong>Description:</strong> Deletes a student</p>
                    <p><strong>Example cURL:</strong></p>
                    <pre>curl -X DELETE "<span class="endpoint-url" data-path="/students/1"></span>" -H "accept: application/json"</pre>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>2025 University Management System</p>
        </div>
    </div>
</h:body>
</html>